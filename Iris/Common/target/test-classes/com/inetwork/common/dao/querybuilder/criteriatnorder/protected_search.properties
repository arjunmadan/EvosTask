npa_mixed=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_only=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_none=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_mixed_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_only_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_none_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100

npa_nxx_mixed=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_only=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_none=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_mixed_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_only_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_none_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100

npa_nxx_block_mixed=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_block_only=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_block_none=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_block_mixed_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_block_only_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND tn.fullnumber LIKE :fullnumber LIMIT 100
npa_nxx_block_none_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND tn.fullnumber LIKE :fullnumber LIMIT 100

npa_nxx_block_lca_mixed=SELECT fullnumber, vendor_id, vendorName, tier, rc_abbreviation, rc_state, lata, city FROM ((SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM telephonenumber AS tn INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) and rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100) UNION ALL (SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM (SELECT DISTINCT rc_abbreviation, rc_state FROM lca_npanxx_ratecenter WHERE npa=:npa AND nxx=:nxx) AS lca INNER JOIN telephonenumber AS tn ON lca.rc_abbreviation=tn.rc_abbreviation AND lca.rc_state=tn.rc_state INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber NOT LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100)) AS tbl ORDER BY tn_status DESC, fullnumber LIMIT 100
npa_nxx_block_lca_only=SELECT fullnumber, vendor_id, vendorName, tier, rc_abbreviation, rc_state, lata, city FROM ((SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM telephonenumber AS tn INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id =:account_id) and rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100) UNION ALL (SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM (SELECT DISTINCT rc_abbreviation, rc_state FROM lca_npanxx_ratecenter WHERE npa=:npa AND nxx=:nxx) AS lca INNER JOIN telephonenumber AS tn ON lca.rc_abbreviation=tn.rc_abbreviation AND lca.rc_state=tn.rc_state INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber NOT LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id =:account_id) AND rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100)) AS tbl ORDER BY tn_status DESC, fullnumber LIMIT 100
npa_nxx_block_lca_none=SELECT fullnumber, vendor_id, vendorName, tier, rc_abbreviation, rc_state, lata, city FROM ((SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM telephonenumber AS tn INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id IS NULL) and rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100) UNION ALL (SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM (SELECT DISTINCT rc_abbreviation, rc_state FROM lca_npanxx_ratecenter WHERE npa=:npa AND nxx=:nxx) AS lca INNER JOIN telephonenumber AS tn ON lca.rc_abbreviation=tn.rc_abbreviation AND lca.rc_state=tn.rc_state INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber NOT LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id IS NULL) AND rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100)) AS tbl ORDER BY tn_status DESC, fullnumber LIMIT 100
npa_nxx_block_lca_mixed_full_number=SELECT fullnumber, vendor_id, vendorName, tier, rc_abbreviation, rc_state, lata, city FROM ((SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM telephonenumber AS tn INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) and rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100) UNION ALL (SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM (SELECT DISTINCT rc_abbreviation, rc_state FROM lca_npanxx_ratecenter WHERE npa=:npa AND nxx=:nxx) AS lca INNER JOIN telephonenumber AS tn ON lca.rc_abbreviation=tn.rc_abbreviation AND lca.rc_state=tn.rc_state INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber NOT LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100)) AS tbl ORDER BY tn_status DESC, fullnumber LIMIT 100
npa_nxx_block_lca_only_full_number=SELECT fullnumber, vendor_id, vendorName, tier, rc_abbreviation, rc_state, lata, city FROM ((SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM telephonenumber AS tn INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id =:account_id) and rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100) UNION ALL (SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM (SELECT DISTINCT rc_abbreviation, rc_state FROM lca_npanxx_ratecenter WHERE npa=:npa AND nxx=:nxx) AS lca INNER JOIN telephonenumber AS tn ON lca.rc_abbreviation=tn.rc_abbreviation AND lca.rc_state=tn.rc_state INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber NOT LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id =:account_id) AND rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100)) AS tbl ORDER BY tn_status DESC, fullnumber LIMIT 100
npa_nxx_block_lca_none_full_number=SELECT fullnumber, vendor_id, vendorName, tier, rc_abbreviation, rc_state, lata, city FROM ((SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM telephonenumber AS tn INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id IS NULL) and rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100) UNION ALL (SELECT tn.fullnumber, tn_status, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation,tn.rc_state,rtx.rc_lata LATA, city FROM (SELECT DISTINCT rc_abbreviation, rc_state FROM lca_npanxx_ratecenter WHERE npa=:npa AND nxx=:nxx) AS lca INNER JOIN telephonenumber AS tn ON lca.rc_abbreviation=tn.rc_abbreviation AND lca.rc_state=tn.rc_state INNER JOIN ratecenter_tier_xref AS rtx ON tn.rc_abbreviation=rtx.rc_abbreviation AND tn.rc_state=rtx.rc_state AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns=true WHERE tn.fullnumber NOT LIKE :fullnumber AND (tn_status='Available') AND (protected_account_id IS NULL) AND rtx.tier_id IN (SELECT tier_id from account_tier_xref WHERE account_id =:account_id) LIMIT 100)) AS tbl ORDER BY tn_status DESC, fullnumber LIMIT 100

city_state_mixed=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND c.city=:city AND c.state=:rc_state LIMIT 100
city_state_only=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND c.city=:city AND c.state=:rc_state LIMIT 100
city_state_none=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND c.city=:city AND c.state=:rc_state LIMIT 100
city_state_mixed_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND c.city=:city AND c.state=:rc_state LIMIT 100
city_state_only_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND c.city=:city AND c.state=:rc_state LIMIT 100
city_state_none_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND c.city=:city AND c.state=:rc_state LIMIT 100

zip_mixed=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN zip_ratecenter AS z ON tn.rc_abbreviation = z.rc_abbreviation AND tn.rc_state = z.rc_state WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND z.zip_code=:zip_code LIMIT 100
zip_only=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN zip_ratecenter AS z ON tn.rc_abbreviation = z.rc_abbreviation AND tn.rc_state = z.rc_state WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND z.zip_code=:zip_code LIMIT 100
zip_none=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN zip_ratecenter AS z ON tn.rc_abbreviation = z.rc_abbreviation AND tn.rc_state = z.rc_state WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND z.zip_code=:zip_code LIMIT 100
zip_mixed_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN zip_ratecenter AS z ON tn.rc_abbreviation = z.rc_abbreviation AND tn.rc_state = z.rc_state WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND z.zip_code=:zip_code LIMIT 100
zip_only_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN zip_ratecenter AS z ON tn.rc_abbreviation = z.rc_abbreviation AND tn.rc_state = z.rc_state WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND z.zip_code=:zip_code LIMIT 100
zip_none_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN zip_ratecenter AS z ON tn.rc_abbreviation = z.rc_abbreviation AND tn.rc_state = z.rc_state WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND z.zip_code=:zip_code LIMIT 100

lata_mixed=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND rtx.rc_lata=:lata LIMIT 100
lata_only=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND rtx.rc_lata=:lata LIMIT 100
lata_none=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND rtx.rc_lata=:lata LIMIT 100
lata_mixed_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND rtx.rc_lata=:lata LIMIT 100
lata_only_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND rtx.rc_lata=:lata LIMIT 100
lata_none_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND rtx.rc_lata=:lata LIMIT 100

city_state_order_by_fn_mixed=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND c.city=:city AND c.state=:rc_state ORDER BY tn.fullnumber LIMIT 100
city_state_order_by_fn_only=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND c.city=:city AND c.state=:rc_state ORDER BY tn.fullnumber LIMIT 100
city_state_order_by_fn_none=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND c.city=:city AND c.state=:rc_state ORDER BY tn.fullnumber LIMIT 100
city_state_order_by_fn_mixed_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id =:account_id OR protected_account_id IS NULL) AND c.city=:city AND c.state=:rc_state ORDER BY tn.fullnumber LIMIT 100
city_state_order_by_fn_only_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id =:account_id) AND c.city=:city AND c.state=:rc_state ORDER BY tn.fullnumber LIMIT 100
city_state_order_by_fn_none_full_number=SELECT tn.fullnumber, tn.vendor_id, (select name from vendor where id=tn.vendor_id) vendorName, (select tier from tier where id=rtx.tier_id) tier, tn.rc_abbreviation, tn.rc_state, rtx.rc_lata LATA, rtx.city FROM telephonenumber tn INNER JOIN ratecenter_tier_xref rtx ON rtx.rc_state = tn.rc_state AND rtx.rc_abbreviation = tn.rc_abbreviation AND tn.vendor_id = rtx.vendor_id AND rtx.rc_supports_new_tns = true INNER JOIN account_tier_xref atx on atx.account_id = :account_id and rtx.tier_id=atx.tier_id INNER JOIN city_ratecenter c ON tn.rc_state = c.rc_state AND tn.rc_abbreviation = c.rc_abbreviation WHERE (tn_status='Available') AND (protected_account_id IS NULL) AND c.city=:city AND c.state=:rc_state ORDER BY tn.fullnumber LIMIT 100